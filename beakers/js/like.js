(function(e){bplLike={init:function(){e(document).on("click","#wp-admin-bar-bpl-likebutton a",bplLike.like)},start_spinner:function(){var t=e("#wp-admin-bar-bpl-likebutton a");if(!t.data("stop_pulse")){t.children(".ab-icon").animate({opacity:.2},400,"linear").animate({opacity:1},400,"linear",bplLike.start_spinner)}},like:function(t){var n={};var r=e(this).attr("href");var i=RegExp("[?&]_wpnonce=([^&]*)").exec(r);var s=RegExp("[?&]like=([^&]*)").exec(r);n._wpnonce=decodeURIComponent(i[1].replace(/\+/g," "));n.action="bpl-like";n.like=decodeURIComponent(s[1].replace(/\+/g," "));e.ajax({data:n,type:"POST",url:ajaxurl,beforeSend:function(t){e("#wp-admin-bar-bpl-likebutton a").children(".ab-label").fadeOut(200).end().data("stop_pulse",false).blur();bplLike.start_spinner()},complete:function(t){e("#wp-admin-bar-bpl-likebutton").addClass("liked").children("a").data("stop_pulse",true).children(".ab-label").html(t.responseText).fadeIn(200)}});return false}};e(document).ready(function(){bplLike.init()})})(jQuery)